<!-- question_group -->
<div class="question-group-container">
  <%= f.label question.id, class: 'control-label' do %>
    <% if question.required %>
      <abbr title="required">*</abbr>
    <% end %>
    <%= question.field_label %>
  <% end %>

  <div class="question-group-rows">
    <div class="row">
      <% question.properties['groups'].each do |key, group| %>
        <div class="<%= build_class_question_group_column(question) %>">
          <strong><%= group['name'] %></strong>
        </div>
      <% end %>
      <div class="col-xs-2"><strong>Actions</strong></div>
    </div>


    <%= f.fields_for :group_answers, OpenStruct.new() do |fp| %>
      <div class="row">
        <% question.properties['groups'].each do |key, group| %>
          <div class="<%= build_class_question_group_column(question) %>">
            <div class="<%= group['add_on'] == 'prepend' || group['add_on'] == 'append' ? 'input-group' : 'input' %> string">
              <% if group['add_on'] == 'prepend' %>
                <span class="input-group-addon"><%= group['add_on_value'] %></span>
              <% end %>
              <%= fp.text_field key.to_s, class: 'form-control' %>
              <% if group['add_on'] == 'append' %>
                <span class="input-group-addon"><%= group['add_on_value'] %></span>
              <% end %>
            </div>
          </div>
        <% end %>
        <div class="col-xs-2"><%= link_to 'Remove', '#' %></div>
      </div>
    <% end %>
  </div>

  <p><%= link_to 'Add row', '#',  class: 'btn btn-xs btn-primary' %></p>
  <% if question.field_hint.present? %>
    <div class="row">
      <div class="col-xs-12">
        <p class="help-block"> <%= question.field_hint %> </p>
      </div>
    </div>
  <% end %>
</div>
